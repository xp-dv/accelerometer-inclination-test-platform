<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Accelerometer Inclination Test Platform: Edit Profile Commands</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Accelerometer Inclination Test Platform
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group___edit_profile_commands.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Edit Profile Commands</div></div>
</div><!--header-->
<div class="contents">

<p>Functions for the editing of profiles  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga322ec4569411791a7521a1b11e29ac73" id="r_ga322ec4569411791a7521a1b11e29ac73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga322ec4569411791a7521a1b11e29ac73">get_setpoint</a> (<a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a> index, <a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a> profile)</td></tr>
<tr class="memdesc:ga322ec4569411791a7521a1b11e29ac73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves and transmits the setpoint data for a given index and profile.  <br /></td></tr>
<tr class="separator:ga322ec4569411791a7521a1b11e29ac73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a81d78270560d5be287c6bafddee4d1" id="r_ga4a81d78270560d5be287c6bafddee4d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4a81d78270560d5be287c6bafddee4d1">add_setpoint</a> (<a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a> x_ang, <a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a> y_ang, <a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a> speed, <a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a> profile)</td></tr>
<tr class="memdesc:ga4a81d78270560d5be287c6bafddee4d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new setpoint to the specified profile.  <br /></td></tr>
<tr class="separator:ga4a81d78270560d5be287c6bafddee4d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94e811fe0303d836b3800d0222a5f898" id="r_ga94e811fe0303d836b3800d0222a5f898"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga94e811fe0303d836b3800d0222a5f898">remove_setpoint</a> (<a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a> index, <a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a> profile)</td></tr>
<tr class="memdesc:ga94e811fe0303d836b3800d0222a5f898"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a setpoint from the specified profile.  <br /></td></tr>
<tr class="separator:ga94e811fe0303d836b3800d0222a5f898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e5c238fdb955f78994ede5f1d0e967d" id="r_ga3e5c238fdb955f78994ede5f1d0e967d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3e5c238fdb955f78994ede5f1d0e967d">get_profile</a> (<a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a> profile)</td></tr>
<tr class="memdesc:ga3e5c238fdb955f78994ede5f1d0e967d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmits all setpoints from a specified profile in packets of 10 setpoints or less until all setpoints in that profile have been printed.  <br /></td></tr>
<tr class="separator:ga3e5c238fdb955f78994ede5f1d0e967d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafae2468a19776954238d079912c02928" id="r_gafae2468a19776954238d079912c02928"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafae2468a19776954238d079912c02928">clear_profile</a> (<a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a> profile)</td></tr>
<tr class="memdesc:gafae2468a19776954238d079912c02928"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all setpoints in the specified profile while preserving all other profiles in flash memory.  <br /></td></tr>
<tr class="separator:gafae2468a19776954238d079912c02928"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions for the editing of profiles </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga4a81d78270560d5be287c6bafddee4d1" name="ga4a81d78270560d5be287c6bafddee4d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a81d78270560d5be287c6bafddee4d1">&#9670;&#160;</a></span>add_setpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a> add_setpoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a></td>          <td class="paramname"><span class="paramname"><em>x_ang</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a></td>          <td class="paramname"><span class="paramname"><em>y_ang</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a></td>          <td class="paramname"><span class="paramname"><em>speed</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a></td>          <td class="paramname"><span class="paramname"><em>profile</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a new setpoint to the specified profile. </p>
<p>This function checks if the provided arguments are within valid ranges, searches for an empty slot in the profile to store the new setpoint, and writes the setpoint data (X, Y, and speed) to flash memory. If the profile is full or if there is an issue with writing to flash, the function returns an error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The X coordinate of the setpoint (in degrees). </td></tr>
    <tr><td class="paramname">y</td><td>The Y coordinate of the setpoint (in degrees). </td></tr>
    <tr><td class="paramname">speed</td><td>The speed for the setpoint (in valid range). </td></tr>
    <tr><td class="paramname">profile</td><td>The profile to which the setpoint will be added.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status_code_t<ul>
<li>STATUS_OK: If the setpoint is successfully added to the profile.</li>
<li>STATUS_ERR_ARG_OUT_OF_RANGE: If any argument is out of the valid range.</li>
<li>STATUS_ERR_PROFILE_FULL: If the profile does not have space for more setpoints.</li>
<li>STATUS_ERR_FLASH_WRITE_FAILED: If there is an error while writing to flash memory. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gafae2468a19776954238d079912c02928" name="gafae2468a19776954238d079912c02928"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafae2468a19776954238d079912c02928">&#9670;&#160;</a></span>clear_profile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a> clear_profile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a></td>          <td class="paramname"><span class="paramname"><em>profile</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears all setpoints in the specified profile while preserving all other profiles in flash memory. </p>
<p>This function checks if the provided profile is valid and contains data. It then clears all setpoints from the specified profile while retaining the other profiles. The function performs a sector-by-sector flash erase and writes the remaining profiles back into flash memory. If the flash write fails at any point, an error is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">profile</td><td>The profile number to clear.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status_code_t<ul>
<li>STATUS_OK: If the profile is successfully cleared and remaining profiles are preserved.</li>
<li>STATUS_ERR_ARG_OUT_OF_RANGE: If the provided profile is out of range.</li>
<li>STATUS_ERR_EMPTY_PROFILE: If the specified profile is empty and cannot be cleared.</li>
<li>STATUS_ERR_FLASH_WRITE_FAILED: If there was a failure during the flash write operation. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga3e5c238fdb955f78994ede5f1d0e967d" name="ga3e5c238fdb955f78994ede5f1d0e967d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3e5c238fdb955f78994ede5f1d0e967d">&#9670;&#160;</a></span>get_profile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a> get_profile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a></td>          <td class="paramname"><span class="paramname"><em>profile</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmits all setpoints from a specified profile in packets of 10 setpoints or less until all setpoints in that profile have been printed. </p>
<p>The first number to print in a packet, indicated by the instruction separator &lsquo;&rsquo;|'` is the decimal index of the first setpoint.</p>
<p>This function checks if the provided profile is within the valid range, then retrieves and transmits the setpoints associated with the profile via UART. If the profile is empty or the setpoints cannot be found, an error code is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">profile</td><td>The profile number to retrieve the setpoints from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status_code_t<ul>
<li>STATUS_OK: If the profile and its setpoints are successfully retrieved and transmitted.</li>
<li>STATUS_ERR_ARG_OUT_OF_RANGE: If the provided profile is out of range.</li>
<li>STATUS_ERR_EMPTY_PROFILE: If the specified profile does not contain any data. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga322ec4569411791a7521a1b11e29ac73" name="ga322ec4569411791a7521a1b11e29ac73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga322ec4569411791a7521a1b11e29ac73">&#9670;&#160;</a></span>get_setpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a> get_setpoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a></td>          <td class="paramname"><span class="paramname"><em>index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a></td>          <td class="paramname"><span class="paramname"><em>profile</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves and transmits the setpoint data for a given index and profile. </p>
<p>This function checks if the provided index and profile are within valid ranges, retrieves the corresponding setpoint data, and transmits the setpoint's X, Y, and speed values over UART. If the requested setpoint is invalid or empty, the function returns an error status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>The index of the desired setpoint. </td></tr>
    <tr><td class="paramname">profile</td><td>The profile associated with the setpoint.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status_code_t<ul>
<li>STATUS_OK: If the setpoint is found, valid, and successfully transmitted.</li>
<li>STATUS_ERR_ARG_OUT_OF_RANGE: If the index or profile is out of range.</li>
<li>STATUS_ERR_EMPTY_SETPOINT: If the requested setpoint contains invalid data (all fields empty). </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga94e811fe0303d836b3800d0222a5f898" name="ga94e811fe0303d836b3800d0222a5f898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga94e811fe0303d836b3800d0222a5f898">&#9670;&#160;</a></span>remove_setpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a> remove_setpoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a></td>          <td class="paramname"><span class="paramname"><em>index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a></td>          <td class="paramname"><span class="paramname"><em>profile</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a setpoint from the specified profile. </p>
<p>This function checks if the provided arguments are within valid ranges, ensures the specified setpoint exists, and then removes the setpoint by copying the remaining setpoints into RAM, clearing the old setpoints from flash, and writing the modified setpoints back into flash memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>The index of the setpoint to be removed. </td></tr>
    <tr><td class="paramname">profile</td><td>The motion profile from which the setpoint will be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status_code_t<ul>
<li>STATUS_OK: If the setpoint is successfully removed and flash memory is updated.</li>
<li>STATUS_ERR_ARG_OUT_OF_RANGE: If the provided index or profile is out of range.</li>
<li>STATUS_ERR_EMPTY_SETPOINT: If the specified setpoint is empty or invalid.</li>
<li>STATUS_ERR_FLASH_WRITE_FAILED: If there is an error while writing to flash memory. </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
