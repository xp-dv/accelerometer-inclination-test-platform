<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Accelerometer Inclination Test Platform: Movement Commands</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Accelerometer Inclination Test Platform
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group___movement_commands.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Movement Commands</div></div>
</div><!--header-->
<div class="contents">

<p>Functions for immediate platform movement  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf123ee62e0a53cfa2b3aa16302f3c273" id="r_gaf123ee62e0a53cfa2b3aa16302f3c273"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf123ee62e0a53cfa2b3aa16302f3c273">move</a> (<a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a> x, <a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a> y, <a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a> speed)</td></tr>
<tr class="memdesc:gaf123ee62e0a53cfa2b3aa16302f3c273"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the system's active setpoint and transitions to the movement state.  <br /></td></tr>
<tr class="separator:gaf123ee62e0a53cfa2b3aa16302f3c273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9d98de81e95024d58ca3c6fa4256470" id="r_gae9d98de81e95024d58ca3c6fa4256470"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae9d98de81e95024d58ca3c6fa4256470">stop</a> (void)</td></tr>
<tr class="memdesc:gae9d98de81e95024d58ca3c6fa4256470"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops all active platform operations and transitions to the idle state.  <br /></td></tr>
<tr class="separator:gae9d98de81e95024d58ca3c6fa4256470"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56392c38514aa5c4a85ab57f1ca90fba" id="r_ga56392c38514aa5c4a85ab57f1ca90fba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga56392c38514aa5c4a85ab57f1ca90fba">cancel</a> (void)</td></tr>
<tr class="memdesc:ga56392c38514aa5c4a85ab57f1ca90fba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels the current operation and transitions the device to the home state.  <br /></td></tr>
<tr class="separator:ga56392c38514aa5c4a85ab57f1ca90fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga12fb3989e2e79aa3ceb95af73ed14170" id="r_ga12fb3989e2e79aa3ceb95af73ed14170"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga12fb3989e2e79aa3ceb95af73ed14170">run_setpoint</a> (<a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a> index, <a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a> profile)</td></tr>
<tr class="memdesc:ga12fb3989e2e79aa3ceb95af73ed14170"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the system to run a specific setpoint with a given profile.  <br /></td></tr>
<tr class="separator:ga12fb3989e2e79aa3ceb95af73ed14170"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd7e01ede64303f7090ff6a193fa8f75" id="r_gacd7e01ede64303f7090ff6a193fa8f75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacd7e01ede64303f7090ff6a193fa8f75">run_profile</a> (<a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a> profile)</td></tr>
<tr class="memdesc:gacd7e01ede64303f7090ff6a193fa8f75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the system to execute a specific profile.  <br /></td></tr>
<tr class="separator:gacd7e01ede64303f7090ff6a193fa8f75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions for immediate platform movement </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga56392c38514aa5c4a85ab57f1ca90fba" name="ga56392c38514aa5c4a85ab57f1ca90fba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga56392c38514aa5c4a85ab57f1ca90fba">&#9670;&#160;</a></span>cancel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a> cancel </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancels the current operation and transitions the device to the home state. </p>
<p>This function resets the active setpoint to its initial state and transitions the system to <code>HOME_STATE</code>, which just passes the idle state</p>
<dl class="section return"><dt>Returns</dt><dd>status_code_t<ul>
<li>STATUS_OK: If the cancel operation completes successfully. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaf123ee62e0a53cfa2b3aa16302f3c273" name="gaf123ee62e0a53cfa2b3aa16302f3c273"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf123ee62e0a53cfa2b3aa16302f3c273">&#9670;&#160;</a></span>move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a> move </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a></td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a></td>          <td class="paramname"><span class="paramname"><em>y</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a></td>          <td class="paramname"><span class="paramname"><em>speed</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the system's active setpoint and transitions to the movement state. </p>
<p>This function updates the system's active setpoint with the target X and Y coordinates and the desired movement speed, after validating that the inputs are within the allowed ranges. It also transitions the system to the state required for executing the movement.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The target position for the X-axis in degrees. Must be within [ANGLE_INPUT_MIN, ANGLE_INPUT_MAX]. </td></tr>
    <tr><td class="paramname">y</td><td>The target position for the Y-axis in degrees. Must be within [ANGLE_INPUT_MIN, ANGLE_INPUT_MAX]. </td></tr>
    <tr><td class="paramname">speed</td><td>The speed of the movement. Must be within [SPEED_MIN, SPEED_MAX].</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status_code_t<ul>
<li>STATUS_OK: If the setpoint is updated successfully and the system transitions to the movement state.</li>
<li>STATUS_ERR_ARG_OUT_OF_RANGE: If any of the input arguments are out of the allowed range.</li>
</ul>
</dd></dl>
<p>The X and Y input values are converted from degrees to corresponding pulse-width modulation values using the <code><a class="el" href="main_8c.html#ad4df14aff231b179400f4f7abe966f4c">degtoccr()</a></code> function and are adjusted by specific offsets (<code>PULSE_WIDTH_OFFSET_X</code> and <code>PULSE_WIDTH_OFFSET_Y</code>) to account for system calibration. If any input parameter is out of range, the function returns an error and does not update the setpoint. On success, the function transitions the system state to <code>RUN_SETPOINT_STATE</code>. </p>

</div>
</div>
<a id="gacd7e01ede64303f7090ff6a193fa8f75" name="gacd7e01ede64303f7090ff6a193fa8f75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacd7e01ede64303f7090ff6a193fa8f75">&#9670;&#160;</a></span>run_profile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a> run_profile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a></td>          <td class="paramname"><span class="paramname"><em>profile</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the system to execute a specific profile. </p>
<p>This function sets the active profile and transitions the system to the <code>RUN_PROFILE_STATE</code>, preparing it for executing the associated setpoints.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">profile</td><td>The profile to be executed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status_code_t<ul>
<li>STATUS_OK: If the profile is successfully set, and the system transitions to <code>RUN_PROFILE_STATE</code>. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga12fb3989e2e79aa3ceb95af73ed14170" name="ga12fb3989e2e79aa3ceb95af73ed14170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga12fb3989e2e79aa3ceb95af73ed14170">&#9670;&#160;</a></span>run_setpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a> run_setpoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a></td>          <td class="paramname"><span class="paramname"><em>index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8h.html#a4d4048fda6e6f68c5700addf0bffcbd7">input_t</a></td>          <td class="paramname"><span class="paramname"><em>profile</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the system to run a specific setpoint with a given profile. </p>
<p>This function retrieves the setpoint parameters (X, Y, and speed) from the specified index and profile, converts the X and Y values to PWM signals, and updates the active setpoint. It then transitions the system to the <code>RUN_SETPOINT_STATE</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>The index of the desired setpoint in the setpoint array. </td></tr>
    <tr><td class="paramname">profile</td><td>The profile to use for the specified setpoint.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status_code_t<ul>
<li>STATUS_OK: If the setpoint is successfully applied and the system transitions to <code>RUN_SETPOINT_STATE</code>. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gae9d98de81e95024d58ca3c6fa4256470" name="gae9d98de81e95024d58ca3c6fa4256470"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9d98de81e95024d58ca3c6fa4256470">&#9670;&#160;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8h.html#ae852245dd9cdac701be4c58101286c36">status_code_t</a> stop </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops all active platform operations and transitions to the idle state. </p>
<p>This function halts PWM signals for the specified channels to immediately stop power delivery to platforms or servos. It transitions the system to <code>IDLE_STATE</code> to indicate that operations are no longer active.</p>
<dl class="section return"><dt>Returns</dt><dd>status_code_t<ul>
<li>STATUS_OK: If the stop operation completes successfully.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Designed to be used in case of emergency. Running this command will require for the device to be power-cycled for continued operation. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
